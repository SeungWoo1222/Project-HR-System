<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <style>
        .slider::after {
            left: 0;
        }
    </style>

    <!-- 네이버 지도 API -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=YOUR_CLIENT_ID&submodules=geocoder"></script>
    <script th:src="@{/js/schedule/trip.js}"></script>
</head>
<body>
<div class="detail-container">
    <div class="btn-container">
        <button type="button" class="btn">일정 상태 변경</button>
        <button class="btn" th:taskId="${schedule.taskId}" th:onclick="goToUpdateForm(this.getAttribute('taskId'))">수정하기</button>
        <button class="btn" th:taskId="${schedule.taskId}" th:onclick="deleteSchedule(this.getAttribute('taskId'))">삭제하기</button>
    </div>
    <div class="task-name" style="text-align: center; margin-bottom: 20px;">
        <h2 th:text="'작업명 : ' + ${schedule.taskName}"></h2>
    </div>
    <table class="employee-details">
        <tr>
            <td class="section-title">작업 ID</td>
            <td class="section-title">담당자</td>
            <td class="section-title">부서 / 직급</td>
            <td class="section-title">작업 생성일</td>
        </tr>
        <tr>
            <td th:text="${schedule.taskId}">일정 ID</td>
            <td th:text="${employee.name + '(' + schedule.memberId + ')'}">담당자</td>
            <td th:text="${employee.department + ' / ' + employee.position}">부서와 직급</td>
            <td th:text="${#temporals.format(schedule.createdDate, 'yyyy년 MM월 dd일 HH시 mm분')}">일정 생성일</td>
        </tr>
    </table>
    <table class="details">
        <tr>
            <td class="section-title">하루종일</td>
            <td class="section-title">일정 색상</td>
            <td class="section-title">일정 상태</td>
        </tr>
        <tr>
            <td>
                <div style="padding-top: 5px">
                    <label class="switch">
                        <input type="checkbox" th:checked="${schedule.allDay == true}" disabled>
                        <span class="slider"></span>
                    </label>
                </div>
            </td>
            <td style="text-align: center; vertical-align: middle;">
                <div th:style="'width: 10px; height: 10px; border-radius: 50px; display: inline-block; background-color: ' + ${schedule.color}"></div>
            </td>
            <td th:text="${schedule.status}"
                th:classappend="${schedule.status == '시작 전'} ? 'notStarted' :
                                   (${schedule.status == '진행 중'} ? 'inProcess' :
                                   (${schedule.status == '완료'} ? 'done' : ''))">상태</td>
        </tr>
    </table>
    <table class="details">
        <tr>
            <td class="section-title">일정 내용</td>
            <td th:text="${schedule.content}">일정 내용</td>
        </tr>
        <tr>
            <td class="section-title">시작일</td>
            <td th:text="${#temporals.format(schedule.startTime, 'yyyy년 MM월 dd일 HH시 mm분')}">시작일</td>
        </tr>
        <tr>
            <td class="section-title">종료일</td>
            <td th:text="${#temporals.format(schedule.endTime, 'yyyy년 MM월 dd일 HH시 mm분')}">종료일</td>
        </tr>
        <tr>
            <td class="section-title">프로젝트 정보</td>
            <td th:text="${schedule.projectId}">프로젝트 번호</td>
        </tr>
        <tr>
            <td class="section-title">출장 정보</td>
            <td>
                <div>
                    주소: <span id="sample6_address" th:text="${trip.address}"></span>
                    상세 주소: <span id="sample6_detailAddress" th:text="${trip.detailedAddress}"></span>
                    고객명: <span th:text="${trip.clientName}"></span>
                    전화번호: <span th:text="${trip.contactTel}"></span>
                    이메일: <span th:text="${trip.contactEmail}"></span>
                    비고: <span th:text="${trip.note}"></span>
                    <button type="button" onclick="viewMap()">지도 보기</button>
                </div>
                <div id="map-section" style="display: none;">
                    <!-- 지도와 수정 버튼 -->
                    <div id="map" style="width:500px; height:400px;"></div>
                </div>
            </td>
        </tr>
    </table>
</div>
</body>
</html>