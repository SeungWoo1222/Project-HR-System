<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<style>
    .content-header {
        margin-top: 30px;
    }
    .title {
        margin: 0;
    }
    .reject {
        background-color: #FF7D7D;
    }

    .reject:hover {
        background-color: #FF0000;
    }

    .approval {
        background-color: #96E596;
    }

    .approval:hover {
        background-color: #32CD32;
    }
</style>

<div class="vacation-detail-container">
    <div class="content-header">
        <div class="content-header-left">
            <button class="btn" th:vacationId="${vacationInfo.vacationId}" th:onclick="goToUpdateForm(this.getAttribute('vacationId'))">수정하기</button>
            <button class="btn" th:vacationId="${vacationInfo.vacationId}" th:onclick="deleteVacation(this.getAttribute('vacationId'))">삭제하기</button>
        </div>
        <div class="title content-header-center">휴가 신청서</div>
        <div class="content-header-right">
            <div th:if="${vacationInfo.approvalStatus.equals('미처리')}">
                <button class="btn approval" th:vacationId="${vacationInfo.vacationId}" th:onclick="processVacation(this.getAttribute('vacationId'), '승인')">휴가 승인</button>
                <button class="btn reject" th:vacationId="${vacationInfo.vacationId}" th:onclick="processVacation(this.getAttribute('vacationId'), '거절')">휴가 거절</button>
            </div>
        </div>
    </div>
    <table class="employee-details">
        <tr>
            <td class="section-title">사원 ID</td>
            <td class="section-title">이름</td>
            <td class="section-title">부서</td>
            <td class="section-title">직급</td>
            <td class="section-title">연락처</td>
        </tr>
        <tr>
            <td th:text="${vacationInfo.employeeId}"></td>
            <td th:text="${employeeInfo.name}"></td>
            <td th:text="${employeeInfo.department}"></td>
            <td th:text="${employeeInfo.position}"></td>
            <td th:text="${employeeInfo.phone}"></td>
        </tr>
    </table>
    <table class="details">
        <tr>
            <td class="section-title">휴가 유형</td>
            <td th:text="${vacationInfo.vacationType}"></td>
        </tr>
        <tr>
            <td class="section-title">사용 일수</td>
            <td th:text="${vacationInfo.usedDays} + '일'"></td>
        </tr>
        <tr>
            <td class="section-title">휴가 시작일</td>
            <td th:text="${vacationInfo.startAt}" class="dateTime"></td>
        </tr>
        <tr>
            <td class="section-title" colspan="1">휴가 종료일</td>
            <td th:text="${vacationInfo.endAt}" class="dateTime" colspan="2"></td>
        </tr>
        <tr>
            <td class="section-title" style="height: 80px">사유</td>
            <td th:text="${vacationInfo.reason}"></td>
        </tr>
    </table>
    <table class="details">
        <tr>
            <td class="section-title">승인 상태</td>
            <td th:text="${vacationInfo.approvalStatus}"></td>
        </tr>
        <tr>
            <td class="section-title">처리자</td>
            <td th:text="${vacationInfo.processingBy}"></td>
        </tr>
        <tr>
            <td class="section-title">처리 일시</td>
            <td th:text="${vacationInfo.processingAt}" class="dateTime"></td>
        </tr>
    </table>
    <div class="submission-declaration">
        <p>상기 본인은 위와 같이 휴가 신청서를 제출합니다.</p>
    </div>
    <div class="applicant-signature">
        <span th:text="${#temporals.format(vacationInfo.createdAt, 'yyyy년 MM월 dd일')}"></span>
        <span style="font-size:20px;">신청인 : <span th:text="${employeeInfo.name}" style="margin-right: 7px"></span>(인)</span>
    </div>
    <div class="company-signature">
        <p>주식회사 하루하루</p>
        <img class="signature" src="/images/icons/signature.png">
    </div>
</div>
</html>
